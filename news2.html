<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Med News</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    .custom-popover {
      max-height: 600px; /* Set the maximum width of the popover */
      width: 100%; /* Set the width to 100% */
      overflow-x: hidden; /* Hide horizontal overflow */
      overflow-y: auto; /* Enable vertical scrolling */
    }
  </style>
</head>
<body>

  <!-- Button to trigger popover -->
  <button type="button" class="btn btn-primary" data-toggle="popover" title="Latest News" data-placement="bottom" data-html="true" data-content="">
    Latest Health News
  </button>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!-- Bootstrap JS -->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
  <script>
    const apiKey = ''; /*insert apikey*/
    const keyword = 'health'; // Specify your desired keyword

    const url = `https://newsapi.org/v2/top-headlines?q=${keyword}&apiKey=${apiKey}`;

    $(document).ready(function(){
      $('[data-toggle="popover"]').popover({
        html: true,
        content: function () {
          const container = document.createElement('div');
          container.classList.add('custom-popover'); // Add custom CSS class to the popover content
          fetch(url)
            .then(response => {
              if (!response.ok) {
                throw new Error('Network response was not ok');
              }
              return response.json();
            })
            .then(data => {
              const articles = data.articles;
              articles.forEach(article => {
                const articleElement = document.createElement('div');
                articleElement.innerHTML = `
                  <h5>${article.title}</h5>
                  <p>${article.description}</p>
                  <a href="${article.url}" target="_blank">Read more</a>
                  <hr>
                `;
                container.appendChild(articleElement);
              });
            })
            .catch(error => {
              console.error('There was a problem with the fetch operation:', error);
            });
          return container;
        }
      });
    });
  </script>
</body>
</html>
